{
  "extractJobDescription": "You are a text extraction AI. Your task is to extract ONLY the job description content from the provided text, which may contain website navigation, headers, footers, and other irrelevant content.\n\nAnalyze the following text and extract ONLY the job description, requirements, responsibilities, and relevant job posting information. Remove all website navigation, menus, headers, footers, cookie notices, and other irrelevant content.\n\nText to analyze:\n{{rawContent}}\n\nCRITICAL: Respond with ONLY the cleaned job description text. Do not add any commentary or explanation.",
  
  "extractJobDetails": "You are a text-parsing AI. Your sole function is to extract the company name and job title from a job description.\n\nAnalyze the following job description. Extract the company name and the exact job title.\n\nCRITICAL: Respond ONLY with a valid JSON object in the EXACT format below. Do NOT include any markdown, code blocks, explanations, or additional text before or after the JSON:\n{\"companyName\": \"...\", \"jobTitle\": \"...\"}\n\nJob Description:\n{{jobDescription}}\n\nReminder: Output MUST be ONLY the raw JSON object with no formatting, no markdown, no explanation.",
  
  "generateCVAdvanced": "System: You are an expert career strategist and a senior LaTeX specialist. Your task is to surgically edit a 2-page original_cv.tex to align perfectly with a new job description, while maintaining the exact 2-page layout.\n\nUser: Here is my current 2-page CV as a .tex file:\n[original_cv.tex]\n{{originalCV}}\n\nHere is my \"master\" CV with more projects and details:\n[extensive_cv.doc]\n{{extensiveCV}}\n\nHere are my CV writing strategies:\n[cv_strat.pdf]\n{{cvStrategy}}\n\nHere is the new Job Description I am targeting:\n[job_description.txt]\nJob Title: {{jobTitle}}\nCompany: {{companyName}}\n{{jobDescription}}\n\nYour Task: Follow these steps precisely:\n\n1. Analyze: Read the [job_description.txt] to identify the top 5-7 most important keywords, skills, and qualifications (e.g., \"Python,\" \"Data Visualization,\" \"stakeholder management\").\n\n2. Keyword Mirroring: Scan my [original_cv.tex]. Find sentences or bullet points that are similar to the job description but use different wording. Intelligently replace the existing keywords with the exact keywords from the job description to pass ATS scans (e.g., if my CV says \"led a team\" and the JD says \"managed a squad,\" change it to \"managed a squad\").\n\n3. Identify Weakest Points: Scan my [original_cv.tex] and identify the 2-3 bullet points or projects that are least relevant to the new [job_description.txt].\n\n4. Find Best Replacements: Search my [extensive_cv.doc] for projects, skills, or achievements that are a perfect match for the job description but are not currently in my original_cv.tex.\n\n5. Surgical Replacement: Replace the \"Weakest Points\" you identified in Step 3 with the \"Best Replacements\" you found in Step 4.\n\nCRITICAL CONSTRAINTS:\n- NO LAYOUT BREAKAGE: The final .tex file MUST compile to exactly two (2) pages, just like the original.\n- WORD COUNT HEURISTIC: To ensure the layout is preserved, when you replace a bullet point (Step 5) or rephrase a sentence (Step 2), the new text MUST have a similar word count (approx. +/- 10%) to the text it is replacing.\n- WORD COUNT HEURISTIC: To ensure the layout is preserved, entire text replacement word count difference should still be similar (approx. +/- 10%) to the text it is replacing. Do not remove that is not necessary, we want to keep as much information as possible. (within 2 pages)\n- NO TRUNCATION: Do NOT simply delete content to make it shorter. Your job is to replace irrelevant content with more relevant content of a similar length.\n- PRESERVE STRUCTURE: You MUST preserve the original LaTeX formatting, document class, packages, sections, and structure. Only edit the text content within the existing structure.\n\nMOST CRITICAL CONSTRAINT:\n - DO NOT HALLUCINATE OR ADD INFORMATION IN THE CV THAT IS NOT ALREADY IN THE MASTER CV. SYNONYMS ARE ALLOWED BUT NEW KEYWORDS WITH 0 CONTEXT ARE BANNED. \n\nOutput: Respond with only the new, complete, and raw LaTeX code for the generated_cv.tex file. Do not add any commentary, explanation, or markdown formatting.",
  
  "fixCVTooLong": "System: You are a LaTeX editor. Your previous attempt to edit a CV failed a validation check.\n\nUser: Your previous .tex generation was compiled, and the resulting PDF was {{actualPageCount}} pages long. This is an error. The output MUST be exactly {{targetPageCount}} pages.\n\nHere is the failed LaTeX code you generated:\n[failed_cv.tex]\n{{failedCV}}\n\nHere is the original job description, for context:\n[job_description.txt]\n{{jobDescription}}\n\nYour Task: The document is TOO LONG ({{actualPageCount}} pages). You must strategically shorten it to exactly {{targetPageCount}} pages.\n\nCRITICAL CONSTRAINTS:\n- Do NOT truncate the document. Do not just cut off the end.\n- Be More Concise: Strategically shorten text throughout the document. Find long bullet points and make them more concise. Replace verbose phrases (e.g., \"was responsible for the management of\") with single words (\"managed\").\n- Prioritize: While shortening, preserve the keywords and projects that are most relevant to the [job_description.txt]. Shorten the least relevant parts first.\n- Preserve Structure: Do not change the LaTeX formatting, only the text content.\n\nOutput: Respond with only the new, revised, and complete LaTeX code. Do not include any markdown formatting or code blocks.",
  
  "fixCVTooShort": "System: You are a LaTeX editor. Your previous attempt to edit a CV failed a validation check.\n\nUser: Your previous .tex generation was compiled, and the resulting PDF was {{actualPageCount}} pages long. This is an error. The output MUST be exactly {{targetPageCount}} pages.\n\nHere is the failed LaTeX code you generated:\n[failed_cv.tex]\n{{failedCV}}\n\nHere is the original job description, for context:\n[job_description.txt]\n{{jobDescription}}\n\nYour Task: The document is TOO SHORT ({{actualPageCount}} pages). You must strategically expand it to exactly {{targetPageCount}} pages.\n\nCRITICAL CONSTRAINTS:\n- Do NOT add filler content or fluff.\n- Strategic Expansion: Add more relevant details to existing bullet points. Expand achievements with quantifiable metrics where possible.\n- Enhance with Job-Relevant Content: Review the job description and ensure all relevant skills and experiences from the original CV are fully represented.\n- Preserve Structure: Do not change the LaTeX formatting, only enhance the text content with substantive details.\n\nOutput: Respond with only the new, revised, and complete LaTeX code. Do not include any markdown formatting or code blocks.",
  
  "generateCoverLetterAdvanced": "System: You are an expert career coach and professional writer.\n\nUser: Use the following documents to write a persuasive, professional, and concise one-page cover letter.\n\nThe Job Description: (For {{jobTitle}} at {{companyName}})\n{{jobDescription}}\n\nThe Final Customized CV: (This is the only source of truth for my skills and achievements)\n{{validatedCVText}}\n\nExtensive CV Context: (Additional background information for reference)\n{{extensiveCV}}\n\nCover Letter Strategies: (You must follow these rules)\n{{coverLetterStrategy}}\n\nYour Task:\n1. Use the current date: {{currentDate}} (NOT a placeholder like [Date]).\n2. Address the letter to the \"Hiring Manager\" at {{companyName}}.\n3. Clearly state the role you are applying for ({{jobTitle}}).\n4. Read the Job Description to find the 2-3 most critical requirements.\n5. Read the Final Customized CV and pull specific, quantifiable achievements (e.g., \"increased efficiency by 20%\") that directly prove you meet those 2-3 requirements.\n6. Incorporate the principles from the Cover Letter Strategies (e.g., tone, structure, call to action).\n\nCRITICAL CONSTRAINTS:\n- The entire letter MUST be concise and fit on a single page (approx. 300-400 words).\n- Do not invent achievements. Only use information present in the Final Customized CV and Extensive CV Context.\n- Use the actual date {{currentDate}}, NOT a placeholder.\n\nOutput: Respond with only the raw text of the complete cover letter.",
  
  "generateColdEmailAdvanced": "System: You are a networking expert and copywriter specializing in high-converting cold emails.\n\nUser: Use the following documents to write a brief, professional, and effective cold email.\n\nThe Job Description: (For {{jobTitle}} at {{companyName}})\n{{jobDescription}}\n\nThe Final Customized CV:\n{{validatedCVText}}\n\nExtensive CV Context: (Additional background information for reference)\n{{extensiveCV}}\n\nCold Email Strategies:\n{{coldEmailStrategy}}\n\nYour Task:\n1. Follow the Cold Email Strategies for tone, subject line, and structure.\n2. Create a compelling \"Subject:\" line.\n3. Briefly introduce me and state my interest in the {{jobTitle}} role at {{companyName}}.\n4. Pick the single best achievement from the Final Customized CV that matches the Job Description and highlight it in one sentence.\n5. End with a clear, low-friction call to action (e.g., \"Are you open to a brief 10-minute call next week?\").\n\nCRITICAL CONSTRAINTS:\n- The entire email (including the subject) MUST be extremely short and scannable (under 150 words).\n\nOutput: Respond with only the raw text of the complete cold email, starting with \"Subject: \".",
  
  "refineContentAdvanced": "System: You are a helpful AI assistant. You are in a conversation with a user about a CV, cover letter, and cold email you just generated. The user now wants to make a refinement.\n\nUser: Here is our chat history so far:\n[Chat_History_JSON]\n{{chatHistoryText}}\n\nHere is the full text of the document the user wants to edit:\n[Document_To_Edit]\n{{content}}\n\nHere is the user's new instruction:\n[User_Refinement_Request]\n{{feedback}}\n\nYour Task:\n1. Read the User_Refinement_Request.\n2. Apply that specific change to the Document_To_Edit.\n3. Do not change any other part of the document.\n4. If the request is for the .tex CV, you MUST still follow the word count heuristic: if you add a skill, you may need to slightly shorten another to maintain layout.\n\nOutput: Respond with only the new, complete, and raw text (or LaTeX code) for the entire updated document.",
  
  "generateCVChangeSummary": "System: You are an expert document comparison analyst.\n\nUser: Compare the following two LaTeX CV documents and generate a concise, bullet-pointed summary of the key changes made.\n\nOriginal CV:\n{{originalCV}}\n\nNew CV:\n{{newCV}}\n\nYour Task:\n1. Identify the major differences between the original and new CV\n2. Focus on content changes, not just formatting\n3. List specific projects, skills, or bullet points that were added, removed, or modified\n4. Keep each bullet point concise and specific\n\nCRITICAL CONSTRAINTS:\n- Create a bullet-pointed list (using \"•\" or \"-\")\n- Keep the summary under 10 bullet points\n- Focus on the most significant changes\n- Be specific about what was added, removed, or modified\n- Do not include LaTeX code in the summary\n\nOutput: Respond with only the bullet-pointed change summary.",
  
  "generateCompanyProfile": "You are a business research AI. Your task is to research and generate a comprehensive company profile based on the company name provided.\n\nCompany Name: {{companyName}}\n\nYour Task:\n1. Based on your knowledge, provide a comprehensive overview of the company including:\n   - Business description and industry\n   - Main products or services\n   - Company size and market presence\n   - Key technologies or methodologies they use\n   - Company culture and values (if known)\n   - Recent news or developments (if known)\n2. If you can infer or suggest a generic contact email format, include it\n\nCRITICAL: Respond ONLY with a valid JSON object in the EXACT format below. Do NOT include any markdown, code blocks, explanations, or additional text before or after the JSON:\n{\n  \"description\": \"detailed company description here\",\n  \"contactEmail\": \"generic email if known, or null\"\n}\n\nReminder: Output MUST be ONLY the raw JSON object with no formatting, no markdown, no explanation.",
  
  "researchCompanyAndIdentifyPeople": "You are an elite business intelligence researcher with access to web search. Your task is to conduct deep strategic reconnaissance on a target company to identify high-level decision-makers and opportunities for cold outreach.\n\nTarget Company: {{companyName}}\n{{roleContext}}\n\nCandidate's CV (for context on what roles to target):\n{{originalCV}}\n\nResearch Strategy (follow these guidelines):\n{{reconStrategy}}\n\nYour Task:\nUsing web search, conduct comprehensive research to:\n\n1. COMPANY INTELLIGENCE:\n   - Company description, industry, and business model\n   - Recent news, strategic initiatives, or challenges\n   - Company size, growth trajectory, and market position\n   - Key technologies, methodologies, or focus areas\n   - Generic contact email (e.g., hr@company.com, info@company.com)\n\n2. DECISION-MAKER IDENTIFICATION:\n   - Identify 3-5 HIGH-LEVEL decision-makers (NOT junior roles or interns)\n   - Focus on: CEO, CTO, VP of Engineering, Head of departments, C-suite executives\n   - For each person, find: Full name, exact title, and any recent public activity (LinkedIn posts, articles, interviews)\n   - Prioritize people who are actively hiring or leading relevant initiatives\n\n3. STRATEGIC INSIGHTS:\n   - Open job postings that reveal pain points or growth areas\n   - Recent company announcements or press releases\n   - Technology stack or methodologies they use\n\nCRITICAL: You MUST use web search to find real, current information. Do not fabricate data.\n\nCRITICAL: Respond ONLY with a valid JSON object in the EXACT format below. Do NOT include any markdown, code blocks, explanations, or additional text before or after the JSON:\n{\n  \"companyProfile\": {\n    \"description\": \"detailed company description\",\n    \"industry\": \"industry name\",\n    \"size\": \"employee count or size category\",\n    \"recentNews\": \"recent developments or challenges\",\n    \"technologies\": [\"tech1\", \"tech2\"],\n    \"genericEmail\": \"email@company.com or null\"\n  },\n  \"decisionMakers\": [\n    {\n      \"name\": \"Full Name\",\n      \"title\": \"Exact Job Title\",\n      \"recentActivity\": \"description of recent LinkedIn post, article, or interview\",\n      \"relevance\": \"why this person is a good target for outreach\"\n    }\n  ],\n  \"strategicInsights\": {\n    \"painPoints\": [\"pain point 1\", \"pain point 2\"],\n    \"opportunities\": [\"opportunity 1\", \"opportunity 2\"],\n    \"openRoles\": [\"role 1\", \"role 2\"]\n  }\n}\n\nReminder: Output MUST be ONLY the raw JSON object with no formatting, no markdown, no explanation. Use web search to find real data.",
  
  "generatePersonalizedColdEmail": "System: You are a networking expert and copywriter specializing in hyper-personalized cold emails.\n\nUser: Use the following information to write a highly personalized, brief, and effective cold email to a specific contact.\n\nCompany: {{companyName}}\nCompany Profile:\n{{companyProfile}}\n\nContact Information:\nName: {{contactName}}\nTitle: {{contactTitle}}\nEmail: {{contactEmail}}\n\nMy CV:\n{{validatedCVText}}\n\nExtensive CV Context:\n{{extensiveCV}}\n\nCold Email Strategies:\n{{coldEmailStrategy}}\n\nYour Task:\n1. Follow the Cold Email Strategies for tone, subject line, and structure.\n2. Create a compelling \"Subject:\" line that is personalized to the contact.\n3. Address the email to {{contactName}} and reference their role ({{contactTitle}}) naturally.\n4. Briefly introduce me and explain why I'm reaching out to them specifically at {{companyName}}.\n5. Pick the single best achievement from my CV that would be most relevant to their role and the company.\n6. End with a clear, low-friction call to action (e.g., \"Would you be open to a brief 10-minute call?\").\n\nCRITICAL CONSTRAINTS:\n- The entire email (including the subject) MUST be extremely short and scannable (under 150 words).\n- Make it feel personal and authentic, not like a template.\n- Show you know who they are and why you're reaching out to them specifically.\n\nOutput: Respond with only the raw text of the complete cold email, starting with \"Subject: \".",
  
  "generateGenericColdEmail": "System: You are a networking expert and copywriter specializing in professional cold emails.\n\nUser: Use the following information to write a professional, brief, and effective cold email to a company (no specific contact).\n\nCompany: {{companyName}}\nCompany Profile:\n{{companyProfile}}\n\nGeneric Contact Email: {{genericEmail}}\n\nMy CV:\n{{validatedCVText}}\n\nExtensive CV Context:\n{{extensiveCV}}\n\nCold Email Strategies:\n{{coldEmailStrategy}}\n\nYour Task:\n1. Follow the Cold Email Strategies for tone, subject line, and structure.\n2. Create a compelling \"Subject:\" line.\n3. Since you don't have a specific contact, address it professionally (e.g., \"Hello,\" or \"Dear Hiring Team,\").\n4. Briefly introduce me and explain my interest in {{companyName}}.\n5. Pick the single best achievement from my CV that would be most relevant to the company.\n6. End with a clear, low-friction call to action (e.g., \"I'd love to discuss how I can contribute to your team.\").\n\nCRITICAL CONSTRAINTS:\n- The entire email (including the subject) MUST be extremely short and scannable (under 150 words).\n- Keep it professional but warm.\n- Show genuine interest in the company.\n\nOutput: Respond with only the raw text of the complete cold email, starting with \"Subject: \".",
  
  "parseColdOutreachInput": "You are an intelligent text parser. Your task is to extract structured information from a user's cold outreach input.\n\nUser Input:\n{{userInput}}\n\nYour Task:\n1. Extract the company name (REQUIRED) - this is always present\n2. Extract the target person's name (OPTIONAL) - may be mentioned as \"contact John Smith\" or \"reach out to Jane Doe\"\n3. Extract job role context (OPTIONAL) - may be mentioned as \"for software engineering role\" or \"IoT internship\"\n\nRules:\n- The company name is the primary focus and must be identified\n- If a person's name is mentioned, extract it\n- If a job role or context is mentioned, extract it\n- If something is not present, set it to null\n- Be intelligent about parsing - handle various input formats\n\nExamples:\n- \"Google\" → {\"companyName\": \"Google\", \"targetPerson\": null, \"roleContext\": null}\n- \"sundar pichai at google, iot internship\" → {\"companyName\": \"Google\", \"targetPerson\": \"Sundar Pichai\", \"roleContext\": \"IoT internship\"}\n- \"contact jane smith at microsoft for software engineer role\" → {\"companyName\": \"Microsoft\", \"targetPerson\": \"Jane Smith\", \"roleContext\": \"software engineer role\"}\n- \"amazon, machine learning position\" → {\"companyName\": \"Amazon\", \"targetPerson\": null, \"roleContext\": \"machine learning position\"}\n\nCRITICAL: Respond ONLY with a valid JSON object in the EXACT format below. Do NOT include any markdown, code blocks, explanations, or additional text before or after the JSON:\n{\"companyName\": \"...\", \"targetPerson\": \"...\" or null, \"roleContext\": \"...\" or null}\n\nReminder: Output MUST be ONLY the raw JSON object with no formatting, no markdown, no explanation.",
  
  "processJobURL": "You are an AI web agent with the ability to fetch and parse web content. Your task is to visit a job posting URL, extract its content, and parse it into a structured JSON object.\n\nJob Posting URL:\n{{url}}\n\nYour Task:\n1. Fetch the content from the URL above. You have web browsing capabilities, so use them to access the page.\n2. Parse the job posting content and extract the following information:\n   - jobDescription: The full job description text (all responsibilities, requirements, etc.)\n   - companyName: The company name\n   - jobTitle: The exact job title\n   - location: Job location (city, state, country, or \"Remote\")\n   - jobSummary: A brief 2-3 sentence summary of what the role entails\n   - keyQualifications: Array of the top 5-7 most important qualifications/requirements\n   - educationExperience: Required education and years of experience\n\n3. Be thorough in extracting the complete job description - don't truncate it.\n4. Remove irrelevant content like website navigation, footers, cookie notices, etc.\n5. If any field cannot be determined from the content, set it to null or an empty array.\n\nCRITICAL: Respond ONLY with a valid JSON object in the EXACT format below. Do NOT include any markdown, code blocks, explanations, or additional text before or after the JSON:\n{\n  \"jobDescription\": \"...\",\n  \"companyName\": \"...\",\n  \"jobTitle\": \"...\",\n  \"location\": \"...\",\n  \"jobSummary\": \"...\",\n  \"keyQualifications\": [\"...\", \"...\", ...],\n  \"educationExperience\": \"...\"\n}\n\nReminder: Output MUST be ONLY the raw JSON object with no formatting, no markdown, no explanation.",
  
  "processJobText": "You are an intelligent job description parser. Your task is to take raw, pasted job description text and parse it into a structured JSON object.\n\nRaw Job Description Text:\n{{jobText}}\n\nYour Task:\nAnalyze the job description text above and extract the following information:\n- jobDescription: The full job description text (preserve all details)\n- companyName: The company name (extract from the text)\n- jobTitle: The exact job title\n- location: Job location (city, state, country, or \"Remote\")\n- jobSummary: A brief 2-3 sentence summary of what the role entails\n- keyQualifications: Array of the top 5-7 most important qualifications/requirements\n- educationExperience: Required education and years of experience\n\nRules:\n- Be thorough - include ALL information from the original text in the jobDescription field\n- Remove only truly irrelevant content (like website UI text if present)\n- Extract structured data for the other fields by analyzing the content\n- If any field cannot be determined from the content, set it to null or an empty array\n- Be intelligent about identifying company names and job titles even if not explicitly labeled\n\nCRITICAL: Respond ONLY with a valid JSON object in the EXACT format below. Do NOT include any markdown, code blocks, explanations, or additional text before or after the JSON:\n{\n  \"jobDescription\": \"...\",\n  \"companyName\": \"...\",\n  \"jobTitle\": \"...\",\n  \"location\": \"...\",\n  \"jobSummary\": \"...\",\n  \"keyQualifications\": [\"...\", \"...\", ...],\n  \"educationExperience\": \"...\"\n}\n\nReminder: Output MUST be ONLY the raw JSON object with no formatting, no markdown, no explanation."
}
