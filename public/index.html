<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CV Customiser - AI Job Application Assistant</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app-container">
        <!-- Left Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-header-top">
                    <h1 class="sidebar-title">CV Customiser</h1>
                    <button class="btn-collapse" id="collapse-btn" title="Collapse sidebar">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                            <path d="M12.5 5L7.5 10L12.5 15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </div>
                <button class="btn-new-chat" id="new-chat-btn">
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                        <path d="M8 3.33334V12.6667M3.33334 8H12.6667" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                    <span class="btn-text">New Chat</span>
                </button>
            </div>
            
            <div class="chat-history" id="chat-history">
                <div class="loading-history">Loading history...</div>
            </div>
            
            <div class="sidebar-footer">
                <button class="btn-settings" id="settings-btn">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path d="M10 12.5C11.3807 12.5 12.5 11.3807 12.5 10C12.5 8.61929 11.3807 7.5 10 7.5C8.61929 7.5 7.5 8.61929 7.5 10C7.5 11.3807 8.61929 12.5 10 12.5Z" stroke="currentColor" stroke-width="1.5"/>
                        <path d="M16.1667 10C16.1667 10.4167 16.1667 10.8333 16.0833 11.25L17.8333 12.5833C17.9167 12.6667 17.9167 12.8333 17.8333 12.9167L16.25 15.4167C16.1667 15.5833 16 15.5833 15.8333 15.5L13.75 14.6667C13.3333 15 12.9167 15.25 12.4167 15.4167L12.0833 17.6667C12.0833 17.8333 11.9167 18 11.75 18H8.58333C8.41667 18 8.25 17.8333 8.25 17.6667L7.91667 15.4167C7.41667 15.25 7 15 6.58333 14.6667L4.5 15.5C4.33333 15.5833 4.16667 15.5833 4.08333 15.4167L2.5 12.9167C2.41667 12.8333 2.41667 12.6667 2.5 12.5833L4.25 11.25C4.16667 10.8333 4.16667 10.4167 4.16667 10C4.16667 9.58333 4.16667 9.16667 4.25 8.75L2.5 7.41667C2.41667 7.33333 2.41667 7.16667 2.5 7.08333L4.08333 4.58333C4.16667 4.41667 4.33333 4.41667 4.5 4.5L6.58333 5.33333C7 5 7.41667 4.75 7.91667 4.58333L8.25 2.33333C8.25 2.16667 8.41667 2 8.58333 2H11.75C11.9167 2 12.0833 2.16667 12.0833 2.33333L12.4167 4.58333C12.9167 4.75 13.3333 5 13.75 5.33333L15.8333 4.5C16 4.41667 16.1667 4.41667 16.25 4.58333L17.8333 7.08333C17.9167 7.16667 17.9167 7.33333 17.8333 7.41667L16.0833 8.75C16.1667 9.16667 16.1667 9.58333 16.1667 10Z" stroke="currentColor" stroke-width="1.5"/>
                    </svg>
                    <span class="btn-text">Settings</span>
                </button>
            </div>
        </aside>

        <!-- Main Chat Area -->
        <main class="main-content" id="main-view">
            <div class="chat-container" id="chat-view">
                <div class="chat-header" id="chat-header">
                    <h1 class="chat-title" id="chat-title">New Conversation</h1>
                </div>
                <div class="chat-messages" id="chat-messages">
                    <div class="welcome-screen">
                        <div class="welcome-icon">üìÑ</div>
                        <h2>CV Customiser</h2>
                        <p>AI-Powered Job Application Assistant</p>
                        <div class="welcome-cards">
                            <div class="welcome-card">
                                <div class="card-icon">üîó</div>
                                <h3>Paste a URL</h3>
                                <p>Job posting link to automatically extract the description</p>
                            </div>
                            <div class="welcome-card">
                                <div class="card-icon">üìù</div>
                                <h3>Paste Job Description</h3>
                                <p>Copy and paste the full job description text</p>
                            </div>
                            <div class="welcome-card">
                                <div class="card-icon">üí¨</div>
                                <h3>Refine Content</h3>
                                <p>Chat to refine your generated documents</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="input-container">
                    <div class="mode-toggle-container">
                        <label class="mode-toggle" title="Toggle between standard and cold outreach mode">
                            <input type="checkbox" id="mode-toggle-checkbox" class="mode-toggle-checkbox">
                            <div class="mode-toggle-slider">
                                <span class="mode-icon mode-icon-hot">üî•</span>
                                <span class="mode-icon mode-icon-cold">‚ùÑÔ∏è</span>
                            </div>
                        </label>
                    </div>
                    <form id="chat-form" class="chat-input-form">
                        <textarea 
                            id="chat-input" 
                            class="chat-input" 
                            placeholder="Paste job description or URL..."
                            rows="1"
                        ></textarea>
                        <button type="submit" class="btn-send" id="send-btn" title="Generate documents">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <path d="M22 2L11 13M22 2L15 22L11 13M22 2L2 8L11 13" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </button>
                    </form>
                </div>
            </div>

            <!-- Settings View -->
            <div class="settings-view hidden" id="settings-view">
                <div class="settings-container">
                    <h2>Settings</h2>
                    <p class="settings-description">Paste your CV content below and save as text files</p>
                    
                    <div class="settings-content-grid">
                        <div class="settings-section">
                            <h3>Original CV</h3>
                            <p class="setting-help">Paste your base CV content here</p>
                            <textarea 
                                id="original-cv-textarea" 
                                class="cv-textarea"
                                placeholder="Paste your original CV content here..."
                                rows="20"
                            ></textarea>
                            <button class="btn-primary" id="save-original-cv-btn">Save Original CV</button>
                            <div id="original-cv-status" class="upload-status"></div>
                        </div>

                        <div class="settings-section">
                            <h3>Extensive CV</h3>
                            <p class="setting-help">Paste your comprehensive CV with all projects here</p>
                            <textarea 
                                id="extensive-cv-textarea" 
                                class="cv-textarea"
                                placeholder="Paste your extensive CV content here..."
                                rows="20"
                            ></textarea>
                            <button class="btn-primary" id="save-extensive-cv-btn">Save Extensive CV</button>
                            <div id="extensive-cv-status" class="upload-status"></div>
                        </div>
                    </div>

                    <button class="btn-secondary" id="back-to-chat-btn">Back to Chat</button>
                </div>
            </div>
        </main>
    </div>

    <script type="module" src="app.js"></script>
</body>
</html>
